<%
/**
 * SEO Meta Tags Partial
 * Generează toate meta tags necesare pentru SEO
 *
 * Variables required:
 * - seo: Object cu date SEO (title, description, keywords, etc.)
 * - currentUrl: URL curent al paginii
 */

// Default values
const pageTitle = seo?.title || title || 'Casa Ignat - Cabinet de Nutriție';
const pageDescription = seo?.description || description || 'Servicii profesionale de nutriție și consultanță în alimentație sănătoasă.';
const pageKeywords = seo?.keywords || 'nutriție, dietă, sănătate, consultații nutriționale';
const pageImage = seo?.ogImage || seo?.image || '/images/og-default.jpg';
const pageUrl = seo?.canonical || currentUrl || '';
const robotsTag = seo?.noIndex ? 'noindex, nofollow' : 'index, follow';
const pageType = seo?.type || 'website';
const pageAuthor = seo?.author || 'Casa Ignat';
const siteName = 'Casa Ignat';

// Format keywords
const keywordsString = Array.isArray(pageKeywords) ? pageKeywords.join(', ') : pageKeywords;
%>

<!-- Primary Meta Tags -->
<title><%= pageTitle %></title>
<meta name="title" content="<%= pageTitle %>">
<meta name="description" content="<%= pageDescription %>">
<meta name="keywords" content="<%= keywordsString %>">
<meta name="author" content="<%= pageAuthor %>">
<meta name="robots" content="<%= robotsTag %>">

<!-- Canonical URL -->
<% if (pageUrl) { %>
<link rel="canonical" href="<%= pageUrl %>">
<% } %>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="<%= pageType %>">
<meta property="og:url" content="<%= pageUrl %>">
<meta property="og:title" content="<%= pageTitle %>">
<meta property="og:description" content="<%= pageDescription %>">
<meta property="og:image" content="<%= pageImage %>">
<meta property="og:site_name" content="<%= siteName %>">
<meta property="og:locale" content="ro_RO">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="<%= pageUrl %>">
<meta name="twitter:title" content="<%= pageTitle %>">
<meta name="twitter:description" content="<%= pageDescription %>">
<meta name="twitter:image" content="<%= pageImage %>">

<!-- Additional Meta Tags for Articles/Blog Posts -->
<% if (seo?.publishedTime) { %>
<meta property="article:published_time" content="<%= seo.publishedTime %>">
<% } %>
<% if (seo?.modifiedTime) { %>
<meta property="article:modified_time" content="<%= seo.modifiedTime %>">
<% } %>
<% if (seo?.author) { %>
<meta property="article:author" content="<%= seo.author %>">
<% } %>
<% if (seo?.section) { %>
<meta property="article:section" content="<%= seo.section %>">
<% } %>
<% if (seo?.tags && Array.isArray(seo.tags)) { %>
  <% seo.tags.forEach(tag => { %>
<meta property="article:tag" content="<%= tag %>">
  <% }); %>
<% } %>
